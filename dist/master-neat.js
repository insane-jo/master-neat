/*! For license information please see master-neat.js.LICENSE.txt */
(()=>{"use strict";var __webpack_modules__={975:t=>{function e(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function n(t,e){for(var n,o="",i=0,r=-1,s=0,a=0;a<=t.length;++a){if(a<t.length)n=t.charCodeAt(a);else{if(47===n)break;n=47}if(47===n){if(r===a-1||1===s);else if(r!==a-1&&2===s){if(o.length<2||2!==i||46!==o.charCodeAt(o.length-1)||46!==o.charCodeAt(o.length-2))if(o.length>2){var u=o.lastIndexOf("/");if(u!==o.length-1){-1===u?(o="",i=0):i=(o=o.slice(0,u)).length-1-o.lastIndexOf("/"),r=a,s=0;continue}}else if(2===o.length||1===o.length){o="",i=0,r=a,s=0;continue}e&&(o.length>0?o+="/..":o="..",i=2)}else o.length>0?o+="/"+t.slice(r+1,a):o=t.slice(r+1,a),i=a-r-1;r=a,s=0}else 46===n&&-1!==s?++s:s=-1}return o}var o={resolve:function(){for(var t,o="",i=!1,r=arguments.length-1;r>=-1&&!i;r--){var s;r>=0?s=arguments[r]:(void 0===t&&(t=process.cwd()),s=t),e(s),0!==s.length&&(o=s+"/"+o,i=47===s.charCodeAt(0))}return o=n(o,!i),i?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(t){if(e(t),0===t.length)return".";var o=47===t.charCodeAt(0),i=47===t.charCodeAt(t.length-1);return 0!==(t=n(t,!o)).length||o||(t="."),t.length>0&&i&&(t+="/"),o?"/"+t:t},isAbsolute:function(t){return e(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,n=0;n<arguments.length;++n){var i=arguments[n];e(i),i.length>0&&(void 0===t?t=i:t+="/"+i)}return void 0===t?".":o.normalize(t)},relative:function(t,n){if(e(t),e(n),t===n)return"";if((t=o.resolve(t))===(n=o.resolve(n)))return"";for(var i=1;i<t.length&&47===t.charCodeAt(i);++i);for(var r=t.length,s=r-i,a=1;a<n.length&&47===n.charCodeAt(a);++a);for(var u=n.length-a,c=s<u?s:u,l=-1,h=0;h<=c;++h){if(h===c){if(u>c){if(47===n.charCodeAt(a+h))return n.slice(a+h+1);if(0===h)return n.slice(a+h)}else s>c&&(47===t.charCodeAt(i+h)?l=h:0===h&&(l=0));break}var f=t.charCodeAt(i+h);if(f!==n.charCodeAt(a+h))break;47===f&&(l=h)}var d="";for(h=i+l+1;h<=r;++h)h!==r&&47!==t.charCodeAt(h)||(0===d.length?d+="..":d+="/..");return d.length>0?d+n.slice(a+l):(a+=l,47===n.charCodeAt(a)&&++a,n.slice(a))},_makeLong:function(t){return t},dirname:function(t){if(e(t),0===t.length)return".";for(var n=t.charCodeAt(0),o=47===n,i=-1,r=!0,s=t.length-1;s>=1;--s)if(47===(n=t.charCodeAt(s))){if(!r){i=s;break}}else r=!1;return-1===i?o?"/":".":o&&1===i?"//":t.slice(0,i)},basename:function(t,n){if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');e(t);var o,i=0,r=-1,s=!0;if(void 0!==n&&n.length>0&&n.length<=t.length){if(n.length===t.length&&n===t)return"";var a=n.length-1,u=-1;for(o=t.length-1;o>=0;--o){var c=t.charCodeAt(o);if(47===c){if(!s){i=o+1;break}}else-1===u&&(s=!1,u=o+1),a>=0&&(c===n.charCodeAt(a)?-1==--a&&(r=o):(a=-1,r=u))}return i===r?r=u:-1===r&&(r=t.length),t.slice(i,r)}for(o=t.length-1;o>=0;--o)if(47===t.charCodeAt(o)){if(!s){i=o+1;break}}else-1===r&&(s=!1,r=o+1);return-1===r?"":t.slice(i,r)},extname:function(t){e(t);for(var n=-1,o=0,i=-1,r=!0,s=0,a=t.length-1;a>=0;--a){var u=t.charCodeAt(a);if(47!==u)-1===i&&(r=!1,i=a+1),46===u?-1===n?n=a:1!==s&&(s=1):-1!==n&&(s=-1);else if(!r){o=a+1;break}}return-1===n||-1===i||0===s||1===s&&n===i-1&&n===o+1?"":t.slice(n,i)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return function(t,e){var n=e.dir||e.root,o=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+o:n+"/"+o:o}(0,t)},parse:function(t){e(t);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return n;var o,i=t.charCodeAt(0),r=47===i;r?(n.root="/",o=1):o=0;for(var s=-1,a=0,u=-1,c=!0,l=t.length-1,h=0;l>=o;--l)if(47!==(i=t.charCodeAt(l)))-1===u&&(c=!1,u=l+1),46===i?-1===s?s=l:1!==h&&(h=1):-1!==s&&(h=-1);else if(!c){a=l+1;break}return-1===s||-1===u||0===h||1===h&&s===u-1&&s===a+1?-1!==u&&(n.base=n.name=0===a&&r?t.slice(1,u):t.slice(a,u)):(0===a&&r?(n.name=t.slice(1,s),n.base=t.slice(1,u)):(n.name=t.slice(a,s),n.base=t.slice(a,u)),n.ext=t.slice(s,u)),a>0?n.dir=t.slice(0,a-1):r&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};o.posix=o,t.exports=o},292:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n){this.gain=1,this.elegibility=0,this.previousDeltaWeight=0,this.totalDeltaWeight=0,this.gater=null,this.xtrace={nodes:[],values:[]},this.from=t,this.to=e,this.weight=void 0===n?.2*Math.random()-.1:n}return t.prototype.toJSON=function(){return{weight:this.weight}},t.innovationID=function(t,e){return.5*(t+e)*(t+e+1)+e},t}();e.default=n},33:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(712)),r=o(n(799)),s=o(n(864)),a=o(n(28)),u=function(){function t(t){this.nodes=[],this.connections={in:[],out:[],self:[]};for(var e=0;e<t;e++)this.nodes.push(new i.default)}return t.prototype.activate=function(t){var e=[];if(void 0!==t&&t.length!==this.nodes.length)throw new Error("Array with values should be same as the amount of nodes!");for(var n=0;n<this.nodes.length;n++){var o;o=void 0===t?this.nodes[n].activate():this.nodes[n].activate(t[n]),e.push(o)}return e},t.prototype.propagate=function(t,e,n){if(void 0!==n&&n.length!==this.nodes.length)throw new Error("Array with values should be same as the amount of nodes!");for(var o=this.nodes.length-1;o>=0;o--)void 0===n?this.nodes[o].propagate(t,e,!0):this.nodes[o].propagate(t,e,!0,n[o])},t.prototype.connect=function(e,n,o){var i,u,c=[];if(e instanceof t){if(void 0===n&&(this!==e?(a.default.warnings&&console.warn("No group connection specified, using ALL_TO_ALL"),n=r.default.connection.ALL_TO_ALL):(a.default.warnings&&console.warn("No group connection specified, using ONE_TO_ONE"),n=r.default.connection.ONE_TO_ONE)),n===r.default.connection.ALL_TO_ALL||n===r.default.connection.ALL_TO_ELSE){for(i=0;i<this.nodes.length;i++)for(u=0;u<e.nodes.length;u++)if(n!==r.default.connection.ALL_TO_ELSE||this.nodes[i]!==e.nodes[u]){var l=this.nodes[i].connect(e.nodes[u],o);this.connections.out.push(l[0]),e.connections.in.push(l[0]),c.push(l[0])}}else if(n===r.default.connection.ONE_TO_ONE){if(this.nodes.length!==e.nodes.length)throw new Error("From and To group must be the same size!");for(i=0;i<this.nodes.length;i++)l=this.nodes[i].connect(e.nodes[i],o),this.connections.self.push(l[0]),c.push(l[0])}}else if(e instanceof s.default)c=e.input(this,n,o);else for(i=0;i<this.nodes.length;i++)l=this.nodes[i].connect(e,o),this.connections.out.push(l[0]),c.push(l[0]);return c},t.prototype.gate=function(t,e){if(void 0===e)throw new Error("Please specify Gating.INPUT, Gating.OUTPUT");Array.isArray(t)||(t=[t]);var n,o,i=[],s=[];for(n=0;n<t.length;n++){var a=t[n];i.includes(a.from)||i.push(a.from),s.includes(a.to)||s.push(a.to)}switch(e){case r.default.gating.INPUT:for(n=0;n<s.length;n++){var u=s[n],c=this.nodes[n%this.nodes.length];for(o=0;o<u.connections.in.length;o++){var l=u.connections.in[o];t.includes(l)&&c.gate(l)}}break;case r.default.gating.OUTPUT:for(n=0;n<i.length;n++)for(u=i[n],c=this.nodes[n%this.nodes.length],o=0;o<u.connections.out.length;o++)l=u.connections.out[o],t.includes(l)&&c.gate(l);break;case r.default.gating.SELF:for(n=0;n<i.length;n++)u=i[n],c=this.nodes[n%this.nodes.length],t.includes(u.connections.self)&&c.gate(u.connections.self)}},t.prototype.set=function(t){for(var e=0;e<this.nodes.length;e++)void 0!==t.bias&&(this.nodes[e].bias=t.bias),this.nodes[e].squash=t.squash||this.nodes[e].squash,this.nodes[e].type=t.type||this.nodes[e].type},t.prototype.disconnect=function(e,n){var o,i,r;if(void 0===n&&(n=!1),e instanceof t)for(o=0;o<this.nodes.length;o++)for(i=0;i<e.nodes.length;i++){for(this.nodes[o].disconnect(e.nodes[i],n),r=this.connections.out.length-1;r>=0;r--){var s=this.connections.out[r];if(s.from===this.nodes[o]&&s.to===e.nodes[i]){this.connections.out.splice(r,1);break}}if(n)for(r=this.connections.in.length-1;r>=0;r--){var a=this.connections.in[r];if(a.from===e.nodes[i]&&a.to===this.nodes[o]){this.connections.in.splice(r,1);break}}}else for(o=0;o<this.nodes.length;o++){for(this.nodes[o].disconnect(e,n),i=this.connections.out.length-1;i>=0;i--){var u=this.connections.out[i];if(u.from===this.nodes[o]&&u.to===e){this.connections.out.splice(i,1);break}}if(n)for(i=this.connections.in.length-1;i>=0;i--){var c=this.connections.in[i];if(c.from===e&&c.to===this.nodes[o]){this.connections.in.splice(i,1);break}}}},t.prototype.clear=function(){for(var t=0;t<this.nodes.length;t++)this.nodes[t].clear()},t}();e.default=u},864:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(33)),r=o(n(712)),s=o(n(799)),a=n(483),u=function(){function t(){this.output=null,this.nodes=[],this.connections={in:[],out:[],self:[]},this.input=function(){}}return t.prototype.activate=function(t){var e=[];if(void 0!==t&&t.length!==this.nodes.length)throw new Error("Array with values should be same as the amount of nodes!");for(var n=0;n<this.nodes.length;n++){var o;o=void 0===t?this.nodes[n].activate():this.nodes[n].activate(t[n]),e.push(o)}return e},t.prototype.propagate=function(t,e,n){if(void 0!==n&&n.length!==this.nodes.length)throw new Error("Array with values should be same as the amount of nodes!");for(var o=this.nodes.length-1;o>=0;o--)void 0===n?this.nodes[o].propagate(t,e,!0):this.nodes[o].propagate(t,e,!0,n[o])},t.prototype.connect=function(t,e,n){return t instanceof i.default||t instanceof r.default?this.output.connect(t,e,n):t.input(this,e,n)},t.prototype.gate=function(t,e){this.output.gate(t,e)},t.prototype.set=function(t){for(var e=0;e<this.nodes.length;e++){var n=this.nodes[e];n instanceof r.default?(void 0!==t.bias&&(n.bias=t.bias),n.squash=t.squash||n.squash,n.type=t.type||n.type):n.set(t)}},t.prototype.disconnect=function(t,e){var n,o,r;if(void 0===e&&(e=!1),t instanceof i.default)for(n=0;n<this.nodes.length;n++)for(o=0;o<t.nodes.length;o++){for(this.nodes[n].disconnect(t.nodes[o],e),r=this.connections.out.length-1;r>=0;r--)if((s=this.connections.out[r]).from===this.nodes[n]&&s.to===t.nodes[o]){this.connections.out.splice(r,1);break}if(e)for(r=this.connections.in.length-1;r>=0;r--)if((s=this.connections.in[r]).from===t.nodes[o]&&s.to===this.nodes[n]){this.connections.in.splice(r,1);break}}else for(n=0;n<this.nodes.length;n++){for(this.nodes[n].disconnect(t,e),o=this.connections.out.length-1;o>=0;o--)if((s=this.connections.out[o]).from===this.nodes[n]&&s.to===t){this.connections.out.splice(o,1);break}if(e)for(r=this.connections.in.length-1;r>=0;r--){var s;if((s=this.connections.in[r]).from===t&&s.to===this.nodes[n]){this.connections.in.splice(r,1);break}}}},t.prototype.clear=function(){for(var t=0;t<this.nodes.length;t++)this.nodes[t].clear()},t.Dense=function(e){var n=new t,o=new i.default(e);return n.nodes.push(o),n.output=o,n.input=function(t,e,n){return e=e||s.default.connection.ALL_TO_ALL,t.connect(o,e,n)},n},t.LSTM=function(e){var n=new t,o=new i.default(e),r=new i.default(e),a=new i.default(e),u=new i.default(e),c=new i.default(e);o.set({bias:1}),r.set({bias:1}),u.set({bias:1}),a.connect(o,s.default.connection.ALL_TO_ALL),a.connect(r,s.default.connection.ALL_TO_ALL),a.connect(u,s.default.connection.ALL_TO_ALL);var l=a.connect(a,s.default.connection.ONE_TO_ONE),h=a.connect(c,s.default.connection.ALL_TO_ALL);return r.gate(l,s.default.gating.SELF),u.gate(h,s.default.gating.OUTPUT),n.nodes=[o,r,a,u,c],n.output=c,n.input=function(t,e,n){e=e||s.default.connection.ALL_TO_ALL;var i=[],c=t.connect(a,e,n);return i=(i=(i=(i=i.concat(c)).concat(t.connect(o,e,n))).concat(t.connect(u,e,n))).concat(t.connect(r,e,n)),o.gate(c,s.default.gating.INPUT),i},n},t.GRU=function(e){var n=new t,o=new i.default(e),r=new i.default(e),u=new i.default(e),c=new i.default(e),l=new i.default(e),h=new i.default(e);h.set({bias:0,squash:s.default.activation.IDENTITY,type:a.NodeTypeEnum.constant}),c.set({squash:s.default.activation.TANH}),r.set({bias:0,squash:s.default.activation.INVERSE,type:a.NodeTypeEnum.constant}),o.set({bias:1}),u.set({bias:0}),h.connect(o,s.default.connection.ALL_TO_ALL),o.connect(r,s.default.connection.ONE_TO_ONE,1),h.connect(u,s.default.connection.ALL_TO_ALL);var f=h.connect(c,s.default.connection.ALL_TO_ALL);u.gate(f,s.default.gating.OUTPUT);var d=h.connect(l,s.default.connection.ALL_TO_ALL),p=c.connect(l,s.default.connection.ALL_TO_ALL);return o.gate(d,s.default.gating.OUTPUT),r.gate(p,s.default.gating.OUTPUT),l.connect(h,s.default.connection.ONE_TO_ONE,1),n.nodes=[o,r,u,c,l,h],n.output=l,n.input=function(e,n,i){e instanceof t&&(e=e.output),n=n||s.default.connection.ALL_TO_ALL;var r=[];return(r=(r=r.concat(e.connect(o,n,i))).concat(e.connect(u,n,i))).concat(e.connect(c,n,i))},n},t.Memory=function(e,n){var o,r=new t,u=null;for(o=0;o<n;o++){var c=new i.default(e);c.set({squash:s.default.activation.IDENTITY,bias:0,type:a.NodeTypeEnum.constant}),null!=u&&u.connect(c,s.default.connection.ONE_TO_ONE,1),r.nodes.push(c),u=c}for(r.nodes.reverse(),o=0;o<r.nodes.length;o++)r.nodes[o].nodes.reverse();var l=new i.default(0);for(var h in r.nodes)l.nodes=l.nodes.concat(r.nodes[h].nodes);return r.output=l,r.input=function(e,n,o){if(e instanceof t&&(e=e.output),n=n||s.default.connection.ALL_TO_ALL,e.nodes.length!==r.nodes[r.nodes.length-1].nodes.length)throw new Error("Previous layer size must be same as memory size");return e.connect(r.nodes[r.nodes.length-1],n,o)},r},t}();e.default=u},72:function(t,e,n){var o,i=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,o,i)}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||(o=function(t){return o=Object.getOwnPropertyNames||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[e.length]=n);return e},o(t)},function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n=o(t),s=0;s<n.length;s++)"default"!==n[s]&&i(e,t,n[s]);return r(e,t),e}),a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function s(t){try{u(o.next(t))}catch(t){r(t)}}function a(t){try{u(o.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((o=o.apply(t,e||[])).next())}))},u=this&&this.__generator||function(t,e){var n,o,i,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(r=0)),r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!((i=(i=r.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(t){a=[6,t],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var l=c(n(292)),h=c(n(712)),f=s(n(224)),d=c(n(799)),p=c(n(28)),g=c(n(568)),v=n(483),_=c(n(492)),m=function(){function t(t,e){if(void 0===t||void 0===e)throw new Error("No input or output size given");this.input=t,this.output=e,this.nodes=[],this.connections=[],this.gates=[],this.selfconns=[],this.isEvolvingStopped=!1,this.dropout=0;for(var n=0;n<this.input+this.output;n++){var o=n<this.input?v.NodeTypeEnum.input:v.NodeTypeEnum.output;this.nodes.push(new h.default(o))}for(n=0;n<this.input;n++)for(var i=this.input;i<this.output+this.input;i++){var r=Math.random()*this.input*Math.sqrt(2/this.input);this.connect(this.nodes[n],this.nodes[i],r)}}return t.prototype.activate=function(t,e){for(var n=[],o=0;o<this.nodes.length;o++)if(this.nodes[o].type===v.NodeTypeEnum.input)this.nodes[o].activate(t[o]);else if(this.nodes[o].type===v.NodeTypeEnum.output){var i=this.nodes[o].activate();n.push(i)}else e&&(this.nodes[o].mask=Math.random()<this.dropout?0:1),this.nodes[o].activate();return n},t.prototype.noTraceActivate=function(t){for(var e=[],n=0;n<this.nodes.length;n++)if(this.nodes[n].type===v.NodeTypeEnum.input)this.nodes[n].noTraceActivate(t[n]);else if(this.nodes[n].type===v.NodeTypeEnum.output){var o=this.nodes[n].noTraceActivate();e.push(o)}else this.nodes[n].noTraceActivate();return e},t.prototype.propagate=function(t,e,n,o){if(void 0===o||o.length!==this.output)throw new Error("Output target length should match network output length");var i,r=o.length;for(i=this.nodes.length-1;i>=this.nodes.length-this.output;i--)this.nodes[i].propagate(t,e,n,o[--r]);for(i=this.nodes.length-this.output-1;i>=this.input;i--)this.nodes[i].propagate(t,e,n)},t.prototype.clear=function(){for(var t=0;t<this.nodes.length;t++)this.nodes[t].clear()},t.prototype.connect=function(t,e,n){for(var o=t.connect(e,n),i=0;i<o.length;i++){var r=o[i];t!==e?this.connections.push(r):this.selfconns.push(r)}return o},t.prototype.disconnect=function(t,e){for(var n=t===e?this.selfconns:this.connections,o=0;o<n.length;o++){var i=n[o];if(i.from===t&&i.to===e){null!==i.gater&&this.ungate(i),n.splice(o,1);break}}t.disconnect(e)},t.prototype.gate=function(t,e){if(-1===this.nodes.indexOf(t))throw new Error("This node is not part of the network!");null==e.gater?(t.gate(e),this.gates.push(e)):p.default.warnings&&console.warn("This connection is already gated!")},t.prototype.ungate=function(t){var e,n=this.gates.indexOf(t);if(-1===n)throw new Error("This connection is not gated!");this.gates.splice(n,1),null===(e=t.gater)||void 0===e||e.ungate(t)},t.prototype.remove=function(t){var e=this.nodes.indexOf(t);if(-1===e)throw new Error("This node does not exist in the network!");var n=[];this.disconnect(t,t);for(var o=[],i=t.connections.in.length-1;i>=0;i--){var r=t.connections.in[i];_.default.keep_gates&&null!==r.gater&&r.gater!==t&&n.push(r.gater),o.push(r.from),this.disconnect(r.from,t)}var s=[];for(i=t.connections.out.length-1;i>=0;i--)r=t.connections.out[i],_.default.keep_gates&&null!==r.gater&&r.gater!==t&&n.push(r.gater),s.push(r.to),this.disconnect(t,r.to);var a=[];for(i=0;i<o.length;i++)for(var u=o[i],c=0;c<s.length;c++){var l=s[c];if(!u.isProjectingTo(l)){var h=this.connect(u,l);a.push(h[0])}}for(i=0;i<n.length&&0!==a.length;i++){var f=n[i],d=Math.floor(Math.random()*a.length);this.gate(f,a[d]),a.splice(d,1)}for(i=t.connections.gated.length-1;i>=0;i--){var p=t.connections.gated[i];this.ungate(p)}this.disconnect(t,t),this.nodes.splice(e,1)},t.prototype.mutate=function(t){if(void 0===t)throw new Error("No (correct) mutate method given!");t.callback(this)},t.prototype.train=function(t,e){if(void 0===e&&(e={}),t[0].input.length!==this.input||t[0].output.length!==this.output)throw new Error("Dataset input/output size should be same as network input/output size!");void 0===e.rate&&p.default.warnings&&console.warn("Using default learning rate, please define a rate!"),void 0===e.iterations&&p.default.warnings&&console.warn("No target iterations given, running until error is reached!");var n=e.error||.05,o=e.cost||d.default.cost.MSE,i=e.rate||.3,r=e.dropout||0,s=e.momentum||0,a=e.batchSize||1,u=e.ratePolicy||d.default.rate.FIXED(),c=Date.now();if(a>t.length)throw new Error("Batch size must be smaller or equal to dataset length!");if(void 0===e.iterations&&void 0===e.error)throw new Error("At least one of the following options must be specified: error, iterations");void 0===e.error?n=-1:void 0===e.iterations&&(e.iterations=0),this.dropout=r;var l=[],h=[];if(e.crossValidate){var f=Math.ceil((1-e.crossValidate.testSize)*t.length);l=t.slice(0,f),h=t.slice(f)}for(var g=i,_=0,m=1;m>n&&(0===e.iterations||_<e.iterations)&&!(e.crossValidate&&m<=e.crossValidate.testError);){if(g=u(i,++_),e.crossValidate?(this._trainSet(l,a,g,s,o),e.clear&&this.clear(),m=this.test(h,o).error,e.clear&&this.clear()):(m=this._trainSet(t,a,g,s,o),e.clear&&this.clear()),e.shuffle)for(var w=void 0,y=void 0,O=t.length;O;w=Math.floor(Math.random()*O),y=t[--O],t[O]=t[w],t[w]=y);e.log&&_%e.log==0&&console.log("iteration",_,"error",m,"rate",g),e.schedule&&_%e.schedule.iterations==0&&e.schedule.function({error:m,iteration:_})}if(e.clear&&this.clear(),r)for(O=0;O<this.nodes.length;O++)this.nodes[O].type!==v.NodeTypeEnum.hidden&&this.nodes[O].type!==v.NodeTypeEnum.constant||(this.nodes[O].mask=1-this.dropout);return{error:m,iterations:_,time:Date.now()-c}},t.prototype._trainSet=function(t,e,n,o,i){for(var r=0,s=0;s<t.length;s++){var a=t[s].input,u=t[s].output,c=(s+1)%e==0||s+1===t.length,l=this.activate(a,!0);this.propagate(n,o,c,u),r+=i(u,l)}return r/t.length},t.prototype.test=function(t,e){var n;if(void 0===e&&(e=d.default.cost.MSE),this.dropout)for(n=0;n<this.nodes.length;n++)this.nodes[n].type!==v.NodeTypeEnum.hidden&&this.nodes[n].type!==v.NodeTypeEnum.constant||(this.nodes[n].mask=1-this.dropout);var o=0,i=Date.now();for(n=0;n<t.length;n++){var r=t[n].input;o+=e(t[n].output,this.noTraceActivate(r))}return{error:o/=t.length,time:Date.now()-i}},t.prototype.toJSON=function(){for(var t={nodes:[],connections:[],input:this.input,output:this.output,dropout:this.dropout},e=0;e<this.nodes.length;e++)this.nodes[e].index=e;for(e=0;e<this.nodes.length;e++){var n=this.nodes[e];if((i=n.toJSON()).index=e,t.nodes.push(i),0!==n.connections.self.weight){var o=n.connections.self.toJSON();o.from=e,o.to=e,o.gater=null!=n.connections.self.gater?n.connections.self.gater.index:null,t.connections.push(o)}}for(e=0;e<this.connections.length;e++){var i,r=this.connections[e];(i=r.toJSON()).from=r.from.index,i.to=r.to.index,i.gater=null!=r.gater?r.gater.index:null,t.connections.push(i)}return t},t.prototype.set=function(t){for(var e=0;e<this.nodes.length;e++)this.nodes[e].bias=t.bias||this.nodes[e].bias,this.nodes[e].squash=t.squash||this.nodes[e].squash},t.prototype.stopEvolve=function(){return this.isEvolvingStopped=!0,this.evolvingPromise},t.prototype.evolve=function(t,e){return a(this,void 0,void 0,(function(){var o,i,r,s,a,c,l,h,p,v,_,m,w,y,O,b,T,M,N;return u(this,(function(u){switch(u.label){case 0:if(t[0].input.length!==this.input||t[0].output.length!==this.output)throw new Error("Dataset input/output size should be same as network input/output size!");if(this.isEvolvingStopped=!1,this.evolvingPromise=new Promise((function(t){o=t})),i=void 0!==(e=e||{}).error?e.error:.05,r=void 0!==e.growth?e.growth:1e-4,s=e.cost||d.default.cost.MSE,a=e.amount||1,void 0===(c=e.threads)&&(c="undefined"==typeof window?n(366).cpus().length:navigator.hardwareConcurrency),l=Date.now(),void 0===e.iterations&&void 0===e.error)throw new Error("At least one of the following options must be specified: error, iterations");if(void 0===e.error?i=-1:void 0===e.iterations&&(e.iterations=0),p=[],"undefined"!=typeof window&&null==e.browserWorkerScriptUrl&&(c=1),1===c)h=function(e){for(var n=0,o=0;o<a;o++)n-=e.test(t,s).error;return n-=(e.nodes.length-e.input-e.output+e.connections.length+e.gates.length)*r,(n=isNaN(n)?-1/0:n)/a};else{if(p=[],"undefined"==typeof window)for(v=0;v<c;v++)p.push(new f.workers.node.TestWorker(t,s));else for(_=0;_<c;_++)p.push(new f.workers.browser.TestWorker(e.browserWorkerScriptUrl,t,s));h=function(t){return new Promise((function(e){for(var n=t.slice(),o=0,i=function(t){if(n.length){var s=n.shift();t.evaluate(s).then((function(e){s.score=-e,s.score-=(s.nodes.length-s.input-s.output+s.connections.length+s.gates.length)*r,s.score=isNaN(parseFloat(e))?-1/0:s.score,i(t)}))}else++o===c&&e(void 0)},s=0;s<p.length;s++)i(p[s])}))},e.fitnessPopulation=!0}e.network=this,m=new g.default(this.input,this.output,h,e),w=-1/0,y=-1/0,u.label=1;case 1:return!this.isEvolvingStopped&&w<-i&&(0===e.iterations||m.generation<e.iterations)?[4,m.evolve()]:[3,3];case 2:return b=u.sent(),T=b.score,w=T+(b.nodes.length-b.input-b.output+b.connections.length+b.gates.length)*r,T>y&&(y=T,O=b),e.log&&m.generation%e.log==0&&console.log("iteration",m.generation,"fitness",T,"error",-w),e.schedule&&m.generation%e.schedule.iterations==0&&e.schedule.function({fitness:T,error:-w,iteration:m.generation}),e.callback&&e.callback(b,{fitness:T,error:-w,iteration:m.generation}),[3,1];case 3:if(c>1)for(M=0;M<p.length;M++)p[M].terminate();return void 0!==O&&(this.nodes=O.nodes,this.connections=O.connections,this.selfconns=O.selfconns,this.gates=O.gates,e.clear&&this.clear()),N={error:-w,iterations:m.generation,time:Date.now()-l},o(N),[2,N]}}))}))},t.prototype.standalone=function(){var t,e=[],n=[],o=[],i=[],r=[];for(t=0;t<this.input;t++){var s=this.nodes[t];n.push(s.activation),o.push(s.state)}for(i.push("for(var i = 0; i < input.length; i++) A[i] = input[i];"),t=0;t<this.nodes.length;t++)this.nodes[t].index=t;for(t=this.input;t<this.nodes.length;t++){var a=this.nodes[t];n.push(a.activation),o.push(a.state);var u=e.indexOf(a.squash.name);-1===u&&(u=e.length,e.push(a.squash.name),r.push(a.squash.toString()));for(var c=[],l=0;l<a.connections.in.length;l++){var h=a.connections.in[l],f="A[".concat(h.from.index,"] * ").concat(h.weight);null!=h.gater&&(f+=" * A[".concat(h.gater.index,"]")),c.push(f)}if(a.connections.self.weight){var d=a.connections.self,p="S[".concat(t,"] * ").concat(d.weight);null!=d.gater&&(p+=" * A[".concat(d.gater.index,"]")),c.push(p)}var g="S[".concat(t,"] = ").concat(c.join(" + ")," + ").concat(a.bias,";"),v="A[".concat(t,"] = F[").concat(u,"](S[").concat(t,"])").concat(a.mask?"":" * "+a.mask,";");i.push(g),i.push(v)}var _=[];for(t=this.nodes.length-this.output;t<this.nodes.length;t++)_.push("A[".concat(t,"]"));i.push("return [".concat(_.join(","),"];"));var m="";return m+="var F = [".concat(r.toString(),"];\r\n"),m+="var A = [".concat(n.toString(),"];\r\n"),(m+="var S = [".concat(o.toString(),"];\r\n"))+"activate = function(input){\r\n".concat(i.join("\r\n"),"\r\n}")},t.prototype.serialize=function(){var t,e=[],n=[],o=[],i=["LOGISTIC","TANH","IDENTITY","STEP","RELU","SOFTSIGN","SINUSOID","GAUSSIAN","BENT_IDENTITY","BIPOLAR","BIPOLAR_SIGMOID","HARD_TANH","ABSOLUTE","INVERSE","SELU"];for(o.push(this.input),o.push(this.output),t=0;t<this.nodes.length;t++)(r=this.nodes[t]).index=t,e.push(r.activation),n.push(r.state);for(t=this.input;t<this.nodes.length;t++){var r=this.nodes[t];o.push(r.index),o.push(r.bias),o.push(i.indexOf(r.squash.name)),o.push(r.connections.self.weight),o.push(null==r.connections.self.gater?-1:r.connections.self.gater.index);for(var s=0;s<r.connections.in.length;s++){var a=r.connections.in[s];o.push(a.from.index),o.push(a.weight),o.push(null==a.gater?-1:a.gater.index)}o.push(-2)}return[e,n,o]},t.fromJSON=function(e){var n,o=new t(e.input,e.output);for(o.dropout=e.dropout,o.nodes=[],o.connections=[],n=0;n<e.nodes.length;n++)o.nodes.push(h.default.fromJSON(e.nodes[n]));for(n=0;n<e.connections.length;n++){var i=e.connections[n],r=o.connect(o.nodes[i.from],o.nodes[i.to])[0];r.weight=i.weight,null!=i.gater&&o.gate(o.nodes[i.gater],r)}return o},t.merge=function(e,n){if(e=t.fromJSON(e.toJSON()),n=t.fromJSON(n.toJSON()),e.output!==n.input)throw new Error("Output size of network1 should be the same as the input size of network2!");var o;for(o=0;o<n.connections.length;o++){var i=n.connections[o];if(i.from.type===v.NodeTypeEnum.input){var r=n.nodes.indexOf(i.from);i.from=e.nodes[e.nodes.length-1-r]}}for(o=n.input-1;o>=0;o--)n.nodes.splice(o,1);for(o=e.nodes.length-e.output;o<e.nodes.length;o++)e.nodes[o].type=v.NodeTypeEnum.hidden;return e.connections=e.connections.concat(n.connections),e.nodes=e.nodes.concat(n.nodes),e},t.crossOver=function(e,n,o){if(e.input!==n.input||e.output!==n.output)throw new Error("Networks don't have the same input/output size!");var i=new t(e.input,e.output);i.connections=[],i.nodes=[];var r,s=e.score||0,a=n.score||0;if(o||s===a){var u=Math.max(e.nodes.length,n.nodes.length),c=Math.min(e.nodes.length,n.nodes.length);r=Math.floor(Math.random()*(u-c+1)+c)}else r=s>a?e.nodes.length:n.nodes.length;var f,d=e.output;for(f=0;f<e.nodes.length;f++)e.nodes[f].index=f;for(f=0;f<n.nodes.length;f++)n.nodes[f].index=f;for(f=0;f<r;f++){var p;if(f<r-d){var g=Math.random();p=g>=.5?e.nodes[f]:n.nodes[f];var _=g<.5?e.nodes[f]:n.nodes[f];void 0!==p&&p.type!==v.NodeTypeEnum.output||(p=_)}else p=Math.random()>=.5?e.nodes[e.nodes.length+f-r]:n.nodes[n.nodes.length+f-r];var m=new h.default;m.bias=p.bias,m.squash=p.squash,m.type=p.type,i.nodes.push(m)}var w={},y={};for(f=0;f<e.connections.length;f++){var O={weight:(N=e.connections[f]).weight,from:N.from.index,to:N.to.index,gater:null!=N.gater?N.gater.index:-1};w[l.default.innovationID(O.from,O.to)]=O}for(f=0;f<e.selfconns.length;f++)O={weight:(N=e.selfconns[f]).weight,from:N.from.index,to:N.to.index,gater:null!=N.gater?N.gater.index:-1},w[l.default.innovationID(O.from,O.to)]=O;for(f=0;f<n.connections.length;f++)O={weight:(N=n.connections[f]).weight,from:N.from.index,to:N.to.index,gater:null!=N.gater?N.gater.index:-1},y[l.default.innovationID(O.from,O.to)]=O;for(f=0;f<n.selfconns.length;f++)O={weight:(N=n.selfconns[f]).weight,from:N.from.index,to:N.to.index,gater:null!=N.gater?N.gater.index:-1},y[l.default.innovationID(O.from,O.to)]=O;var b=[],T=Object.keys(w),M=Object.keys(y);for(f=T.length-1;f>=0;f--)if(void 0!==y[T[f]]){var N=Math.random()>=.5?w[T[f]]:y[T[f]];b.push(N),y[T[f]]=void 0}else(s>=a||o)&&b.push(w[T[f]]);if(a>=s||o)for(f=0;f<M.length;f++)void 0!==y[M[f]]&&b.push(y[M[f]]);for(f=0;f<b.length;f++){var L=b[f];if(L.to<r&&L.from<r){var A=i.nodes[L.from],E=i.nodes[L.to];(N=i.connect(A,E)[0]).weight=L.weight,-1!==L.gater&&L.gater<r&&i.gate(i.nodes[L.gater],N)}}return i},t}();e.default=m},712:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(292)),r=o(n(799)),s=o(n(28)),a=n(483),u=function(){function t(t){this.activation=0,this.derivative=0,this.state=0,this.old=0,this.mask=1,this.previousDeltaBias=0,this.totalDeltaBias=0,this.error={responsibility:0,projected:0,gated:0},this.bias=t===a.NodeTypeEnum.input?0:.2*Math.random()-.1,this.squash=r.default.activation.LOGISTIC,this.type=t||a.NodeTypeEnum.hidden,this.connections={in:[],out:[],gated:[],self:new i.default(this,this,0)}}return t.prototype.activate=function(t){if(void 0!==t)return this.activation=t,this.activation;this.old=this.state,this.state=this.connections.self.gain*this.connections.self.weight*this.state+this.bias;for(var e=0;e<this.connections.in.length;e++){var n=this.connections.in[e];this.state+=n.from.activation*n.weight*n.gain}this.activation=this.squash(this.state)*this.mask,this.derivative=this.squash(this.state,!0);var o=[],i=[];for(e=0;e<this.connections.gated.length;e++){var r=this.connections.gated[e],s=r.to;(c=o.indexOf(s))>-1?i[c]+=r.weight*r.from.activation:(o.push(s),i.push(r.weight*r.from.activation+(s.connections.self.gater===this?s.old:0))),r.gain=this.activation}for(e=0;e<this.connections.in.length;e++){var a=this.connections.in[e];a.elegibility=this.connections.self.gain*this.connections.self.weight*a.elegibility+a.from.activation*a.gain;for(var u=0;u<o.length;u++){s=o[u];var c,l=i[u];(c=a.xtrace.nodes.indexOf(s))>-1?a.xtrace.values[c]=s.connections.self.gain*s.connections.self.weight*a.xtrace.values[c]+this.derivative*a.elegibility*l:(a.xtrace.nodes.push(s),a.xtrace.values.push(this.derivative*a.elegibility*l))}}return this.activation},t.prototype.noTraceActivate=function(t){if(void 0!==t)return this.activation=t,this.activation;var e;for(this.state=this.connections.self.gain*this.connections.self.weight*this.state+this.bias,e=0;e<this.connections.in.length;e++){var n=this.connections.in[e];this.state+=n.from.activation*n.weight*n.gain}for(this.activation=this.squash(this.state),e=0;e<this.connections.gated.length;e++)this.connections.gated[e].gain=this.activation;return this.activation},t.prototype.propagate=function(t,e,n,o){void 0===t&&(t=.3),void 0===e&&(e=0);var i=0;if(this.type===a.NodeTypeEnum.output)this.error.responsibility=this.error.projected=(o||0)-this.activation;else{for(var r=0;r<this.connections.out.length;r++)i+=(f=(c=this.connections.out[r]).to).error.responsibility*c.weight*c.gain;for(this.error.projected=this.derivative*i,i=0,r=0;r<this.connections.gated.length;r++){var s=this.connections.gated[r],u=(f=s.to).connections.self.gater===this?f.old:0;u+=s.weight*s.from.activation,i+=f.error.responsibility*u}this.error.gated=this.derivative*i,this.error.responsibility=this.error.projected+this.error.gated}if(this.type!==a.NodeTypeEnum.constant){for(r=0;r<this.connections.in.length;r++){for(var c=this.connections.in[r],l=this.error.projected*c.elegibility,h=0;h<c.xtrace.nodes.length;h++){var f=c.xtrace.nodes[h],d=c.xtrace.values[h];l+=f.error.responsibility*d}var p=t*l*this.mask;c.totalDeltaWeight+=p,n&&(c.totalDeltaWeight+=e*c.previousDeltaWeight,c.weight+=c.totalDeltaWeight,c.previousDeltaWeight=c.totalDeltaWeight,c.totalDeltaWeight=0)}var g=t*this.error.responsibility;this.totalDeltaBias+=g,n&&(this.totalDeltaBias+=e*this.previousDeltaBias,this.bias+=this.totalDeltaBias,this.previousDeltaBias=this.totalDeltaBias,this.totalDeltaBias=0)}},t.prototype.connect=function(t,e){var n=[];if(void 0!==t.bias)if(t===this)0!==this.connections.self.weight?s.default.warnings&&console.warn("This connection already exists!"):this.connections.self.weight=e||1,n.push(this.connections.self);else{if(this.isProjectingTo(t))throw new Error("Already projecting a connection to this node!");var o=new i.default(this,t,e);t.connections.in.push(o),this.connections.out.push(o),n.push(o)}else for(var r=0;r<t.nodes.length;r++)o=new i.default(this,t.nodes[r],e),t.nodes[r].connections.in.push(o),this.connections.out.push(o),t.connections.in.push(o),n.push(o);return n},t.prototype.disconnect=function(t,e){if(this!==t){for(var n=0;n<this.connections.out.length;n++){var o=this.connections.out[n];if(o.to===t){this.connections.out.splice(n,1);var i=o.to.connections.in.indexOf(o);o.to.connections.in.splice(i,1),null!==o.gater&&o.gater.ungate(o);break}}e&&t.disconnect(this)}else this.connections.self.weight=0},t.prototype.gate=function(t){Array.isArray(t)||(t=[t]);for(var e=0;e<t.length;e++){var n=t[e];this.connections.gated.push(n),n.gater=this}},t.prototype.ungate=function(t){Array.isArray(t)||(t=[t]);for(var e=t.length-1;e>=0;e--){var n=t[e],o=this.connections.gated.indexOf(n);this.connections.gated.splice(o,1),n.gater=null,n.gain=1}},t.prototype.clear=function(){for(var t=0;t<this.connections.in.length;t++){var e=this.connections.in[t];e.elegibility=0,e.xtrace={nodes:[],values:[]}}for(t=0;t<this.connections.gated.length;t++)this.connections.gated[t].gain=0;this.error.responsibility=this.error.projected=this.error.gated=0,this.old=this.state=this.activation=0},t.prototype.isProjectingTo=function(t){if(t===this&&0!==this.connections.self.weight)return!0;for(var e=0;e<this.connections.out.length;e++)if(this.connections.out[e].to===t)return!0;return!1},t.prototype.isProjectedBy=function(t){if(t===this&&0!==this.connections.self.weight)return!0;for(var e=0;e<this.connections.in.length;e++)if(this.connections.in[e].from===t)return!0;return!1},t.prototype.toJSON=function(){return{bias:this.bias,type:this.type,squash:this.squash.name,mask:this.mask}},t.fromJSON=function(e){var n=new t;return n.bias=e.bias,n.type=e.type,n.mask=e.mask,n.squash=r.default.activation[e.squash],n},t}();e.default=u},28:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default={warnings:!1}},125:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(799)),r=o(n(72)),s=o(n(864)),a=o(n(33)),u=o(n(712)),c=n(483),l=o(n(183)),h=o(n(57)),f=o(n(827)),d=o(n(308)),p=o(n(684)),g={Construct:function(t){var e,n=new r.default(0,0),o=[];for(e=0;e<t.length;e++){var i=void 0;if(t[e]instanceof a.default)for(i=0;i<t[e].nodes.length;i++)o.push(t[e].nodes[i]);else if(t[e]instanceof s.default)for(i=0;i<t[e].nodes.length;i++)for(var l=0;l<t[e].nodes[i].nodes.length;l++)o.push(t[e].nodes[i].nodes[l]);else t[e]instanceof u.default&&o.push(t[e])}var h=[],f=[];for(e=o.length-1;e>=0;e--)o[e].type===c.NodeTypeEnum.output||o[e].connections.out.length+o[e].connections.gated.length===0?(o[e].type=c.NodeTypeEnum.output,n.output++,f.push(o[e]),o.splice(e,1)):o[e].type!==c.NodeTypeEnum.input&&o[e].connections.in.length||(o[e].type=c.NodeTypeEnum.input,n.input++,h.push(o[e]),o.splice(e,1));if(o=h.concat(o).concat(f),0===n.input||0===n.output)throw new Error("Given nodes have no clear input/output node!");for(e=0;e<o.length;e++){for(i=void 0,i=0;i<o[e].connections.out.length;i++)n.connections.push(o[e].connections.out[i]);for(i=0;i<o[e].connections.gated.length;i++)n.gates.push(o[e].connections.gated[i]);0!==o[e].connections.self.weight&&n.selfconns.push(o[e].connections.self)}return n.nodes=o,n},Perceptron:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Array.prototype.slice.call(t);if(n.length<3)throw new Error("You have to specify at least 3 layers");var o=[];o.push(new a.default(n[0]));for(var r=1;r<n.length;r++){var s=n[r];s=new a.default(s),o.push(s),o[r-1].connect(o[r],i.default.connection.ALL_TO_ALL)}return g.Construct(o)},Random:function(t,e,n,o){var i,s=(o=o||{}).connections||2*e,a=o.backconnections||0,u=o.selfconnections||0,c=o.gates||0,g=new r.default(t,n);for(i=0;i<e;i++)g.mutate(l.default);for(i=0;i<s-e;i++)g.mutate(h.default);for(i=0;i<a;i++)g.mutate(f.default);for(i=0;i<u;i++)g.mutate(d.default);for(i=0;i<c;i++)g.mutate(p.default);return g},LSTM:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Array.prototype.slice.call(t);if(n.length<3)throw new Error("You have to specify at least 3 layers");var o,r=n.pop();"number"==typeof r?(o=new a.default(r),r={}):o=new a.default(n.pop()),o.set({type:c.NodeTypeEnum.output});var s=r.memoryToMemory||!1,u=r.outputToMemory||!1,l=r.outputToGates||!1,h=void 0===r.inputToOutput||r.inputToOutput,f=void 0===r.inputToDeep||r.inputToDeep,d=new a.default(n.shift());d.set({type:c.NodeTypeEnum.input});var p=n,v=[];v.push(d);for(var _=d,m=0;m<p.length;m++){var w=p[m],y=new a.default(w),O=new a.default(w),b=new a.default(w),T=new a.default(w),M=m===p.length-1?o:new a.default(w);y.set({bias:1}),O.set({bias:1}),T.set({bias:1});var N=_.connect(b,i.default.connection.ALL_TO_ALL);_.connect(y,i.default.connection.ALL_TO_ALL),_.connect(T,i.default.connection.ALL_TO_ALL),_.connect(O,i.default.connection.ALL_TO_ALL),b.connect(y,i.default.connection.ALL_TO_ALL),b.connect(O,i.default.connection.ALL_TO_ALL),b.connect(T,i.default.connection.ALL_TO_ALL);var L=b.connect(b,i.default.connection.ONE_TO_ONE),A=b.connect(M,i.default.connection.ALL_TO_ALL);if(y.gate(N,i.default.gating.INPUT),O.gate(L,i.default.gating.SELF),T.gate(A,i.default.gating.OUTPUT),f&&m>0){var E=d.connect(b,i.default.connection.ALL_TO_ALL);y.gate(E,i.default.gating.INPUT)}if(s){var k=b.connect(b,i.default.connection.ALL_TO_ELSE);y.gate(k,i.default.gating.INPUT)}if(u){var S=o.connect(b,i.default.connection.ALL_TO_ALL);y.gate(S,i.default.gating.INPUT)}l&&(o.connect(y,i.default.connection.ALL_TO_ALL),o.connect(O,i.default.connection.ALL_TO_ALL),o.connect(T,i.default.connection.ALL_TO_ALL)),v.push(y),v.push(O),v.push(b),v.push(T),m!==p.length-1&&v.push(M),_=M}return h&&d.connect(o,i.default.connection.ALL_TO_ALL),v.push(o),g.Construct(v)},GRU:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Array.prototype.slice.call(t);if(n.length<3)throw new Error("not enough layers (minimum 3) !!");var o=new a.default(n.shift()),i=new a.default(n.pop()),r=n,u=[];u.push(o);for(var c=o,l=0;l<r.length;l++){var h=s.default.GRU(r[l]);c.connect(h),c=h,u.push(h)}return c.connect(i),u.push(i),g.Construct(u)},Hopfield:function(t){var e=new a.default(t),n=new a.default(t);return e.connect(n,i.default.connection.ALL_TO_ALL),e.set({type:c.NodeTypeEnum.input}),n.set({squash:i.default.activation.STEP,type:c.NodeTypeEnum.output}),g.Construct([e,n])},NARX:function(t,e,n,o,r){Array.isArray(e)||(e=[e]);var a=[],l=s.default.Dense(t),h=s.default.Memory(t,o),f=[],d=s.default.Dense(n),p=s.default.Memory(n,r);a.push(l),a.push(p);for(var v=0;v<e.length;v++){var _=s.default.Dense(e[v]);f.push(_),a.push(_),void 0!==f[v-1]&&f[v-1].connect(_,i.default.connection.ALL_TO_ALL)}return a.push(h),a.push(d),l.connect(f[0],i.default.connection.ALL_TO_ALL),l.connect(h,i.default.connection.ONE_TO_ONE,1),h.connect(f[0],i.default.connection.ALL_TO_ALL),f[f.length-1].connect(d,i.default.connection.ALL_TO_ALL),d.connect(p,i.default.connection.ONE_TO_ONE,1),p.connect(f[0],i.default.connection.ALL_TO_ALL),l.set(new u.default(c.NodeTypeEnum.input)),d.set(new u.default(c.NodeTypeEnum.output)),g.Construct(a)}};e.default=g},568:function(t,e,n){var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function s(t){try{u(o.next(t))}catch(t){r(t)}}function a(t){try{u(o.throw(t))}catch(t){r(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((o=o.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,o,i,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(r=0)),r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!((i=(i=r.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(t){a=[6,t],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=r(n(72)),a=r(n(799)),u=r(n(28)),c=r(n(183)),l=r(n(57)),h=r(n(684)),f=a.default.selection,d=function(){function t(t,e,n,o){this.population=[],this.input=t,this.output=e,this.fitness=n,o=o||{},this.equal=o.equal||!1,this.clear=o.clear||!1,this.popsize=o.popsize||50,this.elitism=o.elitism||0,this.provenance=o.provenance||0,this.mutationRate=o.mutationRate||.3,this.mutationAmount=o.mutationAmount||1,this.fitnessPopulation=o.fitnessPopulation||!1,this.selection=o.selection||a.default.selection.POWER,this.crossover=o.crossover||[a.default.crossover.SINGLE_POINT,a.default.crossover.TWO_POINT,a.default.crossover.UNIFORM,a.default.crossover.AVERAGE],this.mutation=o.mutation||a.default.mutation.FFW,this.template=o.network||void 0,this.maxNodes=o.maxNodes||1/0,this.maxConns=o.maxConns||1/0,this.maxGates=o.maxGates||1/0,this.selectMutationMethod="function"==typeof o.mutationSelection?o.mutationSelection.bind(this):this.selectMutationMethod,this.generation=0,this.createPool(this.template)}return t.prototype.createPool=function(t){this.population=[];for(var e=0;e<this.popsize;e++){var n;(n=this.template?s.default.fromJSON(t.toJSON()):new s.default(this.input,this.output)).score=void 0,this.population.push(n)}},t.prototype.evolve=function(){return o(this,void 0,void 0,(function(){var t,e,n,o,r;return i(this,(function(i){switch(i.label){case 0:return void 0!==this.population[this.population.length-1].score?[3,2]:[4,this.evaluate()];case 1:i.sent(),i.label=2;case 2:for(this.sort(),(t=s.default.fromJSON(this.population[0].toJSON())).score=this.population[0].score,e=[],n=[],o=0;o<this.elitism;o++)n.push(this.population[o]);for(o=0;o<this.provenance;o++)e.push(s.default.fromJSON(this.template.toJSON()));for(o=0;o<this.popsize-this.elitism-this.provenance;o++)e.push(this.getOffspring());for(this.population=e,this.mutate(),(r=this.population).push.apply(r,n),o=0;o<this.population.length;o++)this.population[o].score=void 0;return this.generation++,[2,t]}}))}))},t.prototype.getOffspring=function(){var t=this.getParent(),e=this.getParent();return s.default.crossOver(t,e,this.equal)},t.prototype.selectMutationMethod=function(t){var e=this.mutation[Math.floor(Math.random()*this.mutation.length)];if(e===c.default&&t.nodes.length>=this.maxNodes)u.default.warnings&&console.warn("maxNodes exceeded!");else if(e===l.default&&t.connections.length>=this.maxConns)u.default.warnings&&console.warn("maxConns exceeded!");else{if(!(e===h.default&&t.gates.length>=this.maxGates))return e;u.default.warnings&&console.warn("maxGates exceeded!")}},t.prototype.mutate=function(){for(var t=0;t<this.population.length;t++)if(Math.random()<=this.mutationRate)for(var e=0;e<this.mutationAmount;e++){var n=this.selectMutationMethod(this.population[t]);this.population[t].mutate(n)}},t.prototype.evaluate=function(){return o(this,void 0,void 0,(function(){var t,e,n;return i(this,(function(o){switch(o.label){case 0:if(!this.fitnessPopulation)return[3,2];if(this.clear)for(t=0;t<this.population.length;t++)this.population[t].clear();return[4,this.fitness(this.population)];case 1:return o.sent(),[3,6];case 2:t=0,o.label=3;case 3:return t<this.population.length?(e=this.population[t],this.clear&&e.clear(),n=e,[4,this.fitness(e)]):[3,6];case 4:n.score=o.sent(),o.label=5;case 5:return t++,[3,3];case 6:return[2]}}))}))},t.prototype.sort=function(){this.population.sort((function(t,e){return e.score-t.score}))},t.prototype.getFittest=function(){return void 0===this.population[this.population.length-1].score&&this.evaluate(),this.population[0].score<this.population[1].score&&this.sort(),this.population[0]},t.prototype.getAverage=function(){void 0===this.population[this.population.length-1].score&&this.evaluate();for(var t=0,e=0;e<this.population.length;e++)t+=this.population[e].score;return t/this.population.length},t.prototype.getParent=function(){var t;switch(this.selection.name){case f.POWER.name:this.population[0].score<this.population[1].score&&this.sort();var e=Math.floor(Math.pow(Math.random(),this.selection.power)*this.population.length);return this.population[e];case f.FITNESS_PROPORTIONATE.name:var n=0,o=0;for(t=0;t<this.population.length;t++){var i=this.population[t].score;o=i<o?i:o,n+=i}n+=(o=Math.abs(o))*this.population.length;var r=Math.random()*n,s=0;for(t=0;t<this.population.length;t++){var a=this.population[t];if(r<(s+=a.score+o))return a}return this.population[Math.floor(Math.random()*this.population.length)];case f.TOURNAMENT.name:if(this.selection.size>this.popsize)throw new Error("Your tournament size should be lower than the population size, please change methods.selection.TOURNAMENT.size");var u=[];for(t=0;t<this.selection.size;t++){var c=this.population[Math.floor(Math.random()*this.population.length)];u.push(c)}for(u.sort((function(t,e){return e.score-t.score})),t=0;t<this.selection.size;t++)if(Math.random()<this.selection.probability||t===this.selection.size-1)return u[t]}},t.prototype.export=function(){for(var t=[],e=0;e<this.population.length;e++){var n=this.population[e];t.push(n.toJSON())}return t},t.prototype.import=function(t){for(var e=[],n=0;n<t.length;n++){var o=t[n];e.push(s.default.fromJSON(o))}this.population=e,this.popsize=e.length},t}();e.default=d},156:function(t,e,n){var o,i=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,o,i)}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||(o=function(t){return o=Object.getOwnPropertyNames||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[e.length]=n);return e},o(t)},function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n=o(t),s=0;s<n.length;s++)"default"!==n[s]&&i(e,t,n[s]);return r(e,t),e}),a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.helpers=e.multi=e.NodeElement=e.Layer=e.Group=e.config=e.Network=e.Connection=e.methods=void 0;var u=a(n(799));e.methods=u.default;var c=a(n(292));e.Connection=c.default;var l=a(n(125)),h=a(n(72));e.Network=h.default;var f=a(n(28));e.config=f.default;var d=a(n(33));e.Group=d.default;var p=a(n(864));e.Layer=p.default;var g=a(n(712));e.NodeElement=g.default;var v=a(n(568)),_=s(n(224));e.multi=_;var m={architect:l.default,Neat:v.default};e.helpers=m},297:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n={LOGISTIC:function(t,e){var n=1/(1+Math.exp(-t));return e?n*(1-n):n},TANH:function(t,e){return e?1-Math.pow(Math.tanh(t),2):Math.tanh(t)},IDENTITY:function(t,e){return e?1:t},STEP:function(t,e){return e?0:t>0?1:0},RELU:function(t,e){return e?t>0?1:0:t>0?t:0},SOFTSIGN:function(t,e){var n=1+Math.abs(t);return e?t/Math.pow(n,2):t/n},SINUSOID:function(t,e){return e?Math.cos(t):Math.sin(t)},GAUSSIAN:function(t,e){var n=Math.exp(-Math.pow(t,2));return e?-2*t*n:n},BENT_IDENTITY:function(t,e){var n=Math.sqrt(Math.pow(t,2)+1);return e?t/(2*n)+1:(n-1)/2+t},BIPOLAR:function(t,e){return e?0:t>0?1:-1},BIPOLAR_SIGMOID:function(t,e){var n=2/(1+Math.exp(-t))-1;return e?.5*(1+n)*(1-n):n},HARD_TANH:function(t,e){return e?t>-1&&t<1?1:0:Math.max(-1,Math.min(1,t))},ABSOLUTE:function(t,e){return e?t<0?-1:1:Math.abs(t)},INVERSE:function(t,e){return e?-1:1-t},SELU:function(t,e){var n=1.6732632423543772,o=1.0507009873554805,i=t>0?t:n*Math.exp(t)-n;return e?t>0?o:(i+n)*o:i*o}};e.default=n},497:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default={ALL_TO_ALL:{name:"OUTPUT"},ALL_TO_ELSE:{name:"INPUT"},ONE_TO_ONE:{name:"SELF"}}},756:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n={CROSS_ENTROPY:function(t,e){for(var n=0,o=0;o<e.length;o++)n-=t[o]*Math.log(Math.max(e[o],1e-15))+(1-t[o])*Math.log(1-Math.max(e[o],1e-15));return n/e.length},MSE:function(t,e){for(var n=0,o=0;o<e.length;o++)n+=Math.pow(t[o]-e[o],2);return n/e.length},BINARY:function(t,e){for(var n=0,o=0;o<e.length;o++)n+=Number(Math.round(2*t[o])!==Math.round(2*e[o]));return n},MAE:function(t,e){for(var n=0,o=0;o<e.length;o++)n+=Math.abs(t[o]-e[o]);return n/e.length},MAPE:function(t,e){for(var n=0,o=0;o<e.length;o++)n+=Math.abs((e[o]-t[o])/Math.max(t[o],1e-15));return n/e.length},MSLE:function(t,e){for(var n=0,o=0;o<e.length;o++)n+=Math.log(Math.max(t[o],1e-15))-Math.log(Math.max(e[o],1e-15));return n},HINGE:function(t,e){for(var n=0,o=0;o<e.length;o++)n+=Math.max(0,1-t[o]*e[o]);return n}};e.default=n},843:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default={SINGLE_POINT:{name:"SINGLE_POINT",config:[.4]},TWO_POINT:{name:"TWO_POINT",config:[.4,.9]},UNIFORM:{name:"UNIFORM"},AVERAGE:{name:"AVERAGE"}}},353:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default={OUTPUT:{name:"OUTPUT"},INPUT:{name:"INPUT"},SELF:{name:"SELF"}}},799:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(297)),r=o(n(525)),s=o(n(959)),a=o(n(843)),u=o(n(756)),c=o(n(353)),l=o(n(497)),h=o(n(171));e.default={activation:i.default,mutation:r.default,selection:s.default,crossover:a.default,cost:u.default,gating:c.default,connection:l.default,rate:h.default}},827:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(28)),r={name:"ADD_BACK_CONN",callback:function(t){for(var e=[],n=t.input;n<t.nodes.length;n++)for(var o=t.nodes[n],r=t.input;r<n;r++){var s=t.nodes[r];o.isProjectingTo(s)||e.push([o,s])}if(0!==e.length){var a=e[Math.floor(Math.random()*e.length)];t.connect(a[0],a[1])}else i.default.warnings&&console.warn("No more connections to be made!")}};e.default=r},57:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(28)),r={name:"ADD_CONN",callback:function(t){for(var e=[],n=0;n<t.nodes.length-t.output;n++)for(var o=t.nodes[n],r=Math.max(n+1,t.input);r<t.nodes.length;r++){var s=t.nodes[r];o.isProjectingTo(s)||e.push([o,s])}if(0!==e.length){var a=e[Math.floor(Math.random()*e.length)];t.connect(a[0],a[1])}else i.default.warnings&&console.warn("No more connections to be made!")}};e.default=r},684:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(28)),r={name:"ADD_GATE",callback:function(t){for(var e=t.connections.concat(t.selfconns),n=[],o=0;o<e.length;o++){var r=e[o];null===r.gater&&n.push(r)}if(0!==n.length){var s=Math.floor(Math.random()*(t.nodes.length-t.input)+t.input),a=t.nodes[s],u=n[Math.floor(Math.random()*n.length)];t.gate(a,u)}else i.default.warnings&&console.warn("No more connections to gate!")}};e.default=r},183:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(712)),r=n(483),s=o(n(402)),a={name:"ADD_NODE",callback:function(t){var e,n,o,a=t.connections[Math.floor(Math.random()*t.connections.length)];a?(e=a.gater,n=a.from,o=a.to,t.disconnect(n,o)):(n=t.nodes.find((function(t){return t.type===r.NodeTypeEnum.input})),o=t.nodes.find((function(t){return t.type===r.NodeTypeEnum.output})));var u=t.nodes.indexOf(o),c=new i.default(r.NodeTypeEnum.hidden);s.default.mutateNode(c);var l=Math.min(u,t.nodes.length-t.output);t.nodes.splice(l,0,c);var h=t.connect(n,c)[0],f=t.connect(c,o)[0];null!=e&&t.gate(e,Math.random()>=.5?h:f)}};e.default=a},308:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(28)),r={name:"ADD_SELF_CONN",callback:function(t){for(var e=[],n=t.input;n<t.nodes.length;n++){var o=t.nodes[n];0===o.connections.self.weight&&e.push(o)}if(0!==e.length){var r=e[Math.floor(Math.random()*e.length)];t.connect(r,r)}else i.default.warnings&&console.warn("No more self-connections to add!")}};e.default=r},525:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(183)),r=o(n(492)),s=o(n(57)),a=o(n(166)),u=o(n(798)),c=o(n(107)),l=o(n(402)),h=o(n(684)),f=o(n(571)),d=o(n(308)),p=o(n(293)),g=o(n(827)),v=o(n(406)),_=o(n(214)),m={ALL:[i.default,r.default,s.default,a.default,u.default,c.default,l.default,h.default,f.default,d.default,p.default,g.default,v.default,_.default],FFW:[i.default,r.default,s.default,a.default,u.default,c.default,l.default,_.default]};e.default=m},402:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(297)),r=o(n(28)),s={name:"MOD_ACTIVATION",callback:function(t){if(this.mutateOutput||t.input+t.output!==t.nodes.length){var e=Math.floor(Math.random()*(t.nodes.length-(this.mutateOutput?0:t.output)-t.input)+t.input),n=t.nodes[e];this.mutateNode(n)}else r.default.warnings&&console.warn("No nodes that allow mutation of activation function")},mutateNode:function(t){t.squash=this.allowed[(this.allowed.indexOf(t.squash)+Math.floor(Math.random()*(this.allowed.length-1))+1)%this.allowed.length]},mutateOutput:!0,allowed:[i.default.LOGISTIC,i.default.TANH,i.default.RELU,i.default.IDENTITY,i.default.STEP,i.default.SOFTSIGN,i.default.SINUSOID,i.default.GAUSSIAN,i.default.BENT_IDENTITY,i.default.BIPOLAR,i.default.BIPOLAR_SIGMOID,i.default.HARD_TANH,i.default.ABSOLUTE,i.default.INVERSE,i.default.SELU]};e.default=s},107:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n={name:"MOD_BIAS",callback:function(t){var e=Math.floor(Math.random()*(t.nodes.length-t.input)+t.input),n=t.nodes[e];this.mutateNode(n)},mutateNode:function(t){var e=Math.random()*(this.max-this.min)+this.min;t.bias+=e},min:-1,max:1};e.default=n},798:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n={name:"MOD_WEIGHT",callback:function(t){var e=t.connections.concat(t.selfconns),n=e[Math.floor(Math.random()*e.length)];if(n){var o=Math.random()*(this.max-this.min)+this.min;n.weight+=o}},min:-1,max:1};e.default=n},406:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(28)),r={name:"SUB_BACK_CONN",callback:function(t){for(var e=[],n=0;n<t.connections.length;n++){var o=t.connections[n];o.from.connections.out.length>1&&o.to.connections.in.length>1&&t.nodes.indexOf(o.from)>t.nodes.indexOf(o.to)&&e.push(o)}if(0!==e.length){var r=e[Math.floor(Math.random()*e.length)];t.disconnect(r.from,r.to)}else i.default.warnings&&console.warn("No connections to remove!")}};e.default=r},166:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(28)),r={name:"SUB_CONN",callback:function(t){for(var e=[],n=0;n<t.connections.length;n++){var o=t.connections[n];o.from.connections.out.length>1&&o.to.connections.in.length>1&&t.nodes.indexOf(o.to)>t.nodes.indexOf(o.from)&&e.push(o)}if(0!==e.length){var r=e[Math.floor(Math.random()*e.length)];t.disconnect(r.from,r.to)}else i.default.warnings&&console.warn("No connections to remove!")}};e.default=r},571:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(28)),r={name:"SUB_GATE",callback:function(t){if(0!==t.gates.length){var e=Math.floor(Math.random()*t.gates.length),n=t.gates[e];t.ungate(n)}else i.default.warnings&&console.warn("No more connections to ungate!")}};e.default=r},492:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(28)),r={name:"SUB_NODE",callback:function(t){if(t.nodes.length!==t.input+t.output){var e=Math.floor(Math.random()*(t.nodes.length-t.output-t.input)+t.input);t.remove(t.nodes[e])}else i.default.warnings&&console.warn("No more nodes left to remove!")},keep_gates:!0};e.default=r},293:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(28)),r={name:"SUB_SELF_CONN",callback:function(t){if(0!==t.selfconns.length){var e=t.selfconns[Math.floor(Math.random()*t.selfconns.length)];t.disconnect(e.from,e.to)}else i.default.warnings&&console.warn("No more self-connections to remove!")}};e.default=r},214:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(28)),r={name:"SWAP_NODES",callback:function(t){if(this.mutateOutput&&t.nodes.length-t.input<2||!this.mutateOutput&&t.nodes.length-t.input-t.output<2)i.default.warnings&&console.warn("No nodes that allow swapping of bias and activation function");else{var e=Math.floor(Math.random()*(t.nodes.length-(this.mutateOutput?0:t.output)-t.input)+t.input),n=t.nodes[e];e=Math.floor(Math.random()*(t.nodes.length-(this.mutateOutput?0:t.output)-t.input)+t.input);var o=t.nodes[e],r=n.bias,s=n.squash;n.bias=o.bias,n.squash=o.squash,o.bias=r,o.squash=s}},mutateOutput:!0};e.default=r},171:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n={FIXED:function(){return function(t){return t}},STEP:function(t,e){return void 0===t&&(t=.9),void 0===e&&(e=100),function(n,o){return n*Math.pow(t,Math.floor(o/e))}},EXP:function(t){return void 0===t&&(t=.999),function(e,n){return e*Math.pow(t,n)}},INV:function(t,e){return void 0===t&&(t=.001),void 0===e&&(e=2),function(n,o){return n*Math.pow(1+t*o,-e)}}};e.default=n},959:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default={FITNESS_PROPORTIONATE:{name:"FITNESS_PROPORTIONATE"},POWER:{name:"POWER",power:4},TOURNAMENT:{name:"TOURNAMENT",size:5,probability:.5}}},224:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.workers=void 0;var i=o(n(801));e.workers=i.default},319:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var o=n(801),i=function(){function t(t,e,n){this.url=t,this.worker=new Worker(this.url);var i={type:o.EWokerMessageType.init,dataSet:e,cost:n.name};this.worker.postMessage(i)}return t.prototype.evaluate=function(t){var e=this;return new Promise((function(n){var i={type:o.EWokerMessageType.iteration,network:t.toJSON()};e.worker.onmessage=function(t){var e=new Float64Array(t.data.buffer)[0];n(e)},e.worker.postMessage(i)}))},t.prototype.terminate=function(){this.worker.terminate(),window.URL.revokeObjectURL(this.url)},t}();e.default=i},445:function(__unused_webpack_module,exports,__webpack_require__){var __filename="/index.js",__importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var child_process_1=__importDefault(__webpack_require__(200)),path_1=__importDefault(__webpack_require__(975)),workers_1=__webpack_require__(801),NodeTestWorker=function(){function NodeTestWorker(dataSet,cost){".ts"in eval("require.extensions")?this.worker=child_process_1.default.fork(path_1.default.join(__dirname,"/worker.ts"),[],{execArgv:["-r","ts-node/register"]}):(console.log("CURRENT FILE",__dirname,__filename),this.worker=child_process_1.default.fork(path_1.default.join(__dirname,"./worker")));var msgPayload={type:workers_1.EWokerMessageType.init,dataSet,cost:cost.name};this.worker.send(msgPayload)}return NodeTestWorker.prototype.evaluate=function(t){var e=this;return new Promise((function(n){var o={type:workers_1.EWokerMessageType.iteration,network:t.toJSON()},i=e.worker;e.worker.on("message",(function t(e){i.removeListener("message",t),n(e)})),e.worker.send(o)}))},NodeTestWorker.prototype.terminate=function(){this.worker.kill()},NodeTestWorker}();exports.default=NodeTestWorker},801:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.EWokerMessageType=void 0;var i,r=o(n(445)),s=o(n(319));!function(t){t.init="init",t.iteration="iteration"}(i||(e.EWokerMessageType=i={}));var a={node:{TestWorker:r.default},browser:{TestWorker:s.default}};e.default=a},483:(t,e)=>{var n;Object.defineProperty(e,"__esModule",{value:!0}),e.NodeTypeEnum=void 0,function(t){t.input="input",t.hidden="hidden",t.output="output",t.constant="constant"}(n||(e.NodeTypeEnum=n={}))},200:t=>{t.exports=require("child_process")},366:t=>{t.exports=require("os")}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.exports}var __webpack_exports__=__webpack_require__(156);exports.MasterNeat=__webpack_exports__})();